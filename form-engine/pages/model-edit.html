<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">新增/编辑模型</h1>
        <div class="breadcrumb">
            <span>平台概览</span>
            <span class="separator">></span>
            <span>建模管理</span>
            <span class="separator">></span>
            <span class="active">新增/编辑模型</span>
        </div>
    </div>

    <div class="page-content">
        <!-- 基本信息表单 -->
        <div class="form-section">
            <h3>新增模型</h3>
            <div class="form-row">
                <div class="form-item required">
                    <label><span class="note-marker">1</span> 模型名称：</label>
                    <input type="text" class="form-input" placeholder="请输入 0/20">
                </div>
                <div class="form-item required">
                    <label><span class="note-marker">57</span> 租户：</label>
                    <select class="form-select">
                        <option>请选择</option>
                        <option>租户1</option>
                        <option>租户2</option>
                        <option>租户3</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-item required">
                    <label><span class="note-marker">3</span> 应用名称：</label>
                    <select class="form-select">
                        <option>请选择</option>
                        <option>OA</option>
                        <option>PC门户</option>
                        <option>脚手架</option>
                    </select>
                </div>
                <div class="form-item required">
                    <label>数据源名称：</label>
                    <select class="form-select">
                        <option>请选择</option>
                        <option>xinOA</option>
                        <option>hrdata</option>
                        <option>test_100_zhushuju</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-item">
                    <label><span class="note-marker">58</span> 是否支持多数据库：</label>
                    <div class="radio-group">
                        <label><input type="radio" name="multiDB" value="yes"> 是</label>
                        <label><input type="radio" name="multiDB" value="no" checked> 否</label>
                    </div>
                </div>
            </div>
            <div class="form-item full-width">
                <label><span class="note-marker">4</span> 模型描述：</label>
                <textarea class="form-textarea" placeholder="请输入模型描述 0/200" rows="3"></textarea>
            </div>
            
            <div class="form-actions" style="margin-top: 15px;">
                <button class="btn btn-default">取消</button>
                <label style="margin-left: 15px; display: inline-flex; align-items: center;">
                    <input type="checkbox" style="margin-right: 5px;">
                    <span><span class="note-marker">7</span> 从已有模型复制</span>
                </label>
                <button class="btn btn-primary" style="margin-left: 15px;"><span class="note-marker">8</span> 保存</button>
                <button class="btn btn-primary"><span class="note-marker">9</span> 保存并录入详细设置</button>
            </div>
        </div>

        <!-- 编辑模型 - 详细设置 (点击"保存并录入详细设置"后显示) -->
        <div class="form-section" style="margin-top: 30px;">
            <h3>编辑模型 - 问题反馈表<span class="note-marker">10</span></h3>
            
            <!-- 子菜单标签 -->
            <div class="tab-menu">
                <button class="tab-item active"><span class="note-marker">11</span> 基本信息</button>
                <button class="tab-item">字段管理</button>
                <button class="tab-item">关联设置</button>
            </div>

            <!-- 字段管理 Tab Content -->
            <div class="tab-content" style="margin-top: 20px;">
                <!-- 筛选条件 -->
                <div class="filter-section">
                    <div class="filter-row">
                        <div class="filter-item">
                            <label><span class="note-marker">12</span> 数据库字段名称：</label>
                            <input type="text" class="form-input" placeholder="请输入">
                        </div>
                        <div class="filter-item">
                            <label><span class="note-marker">13</span> 字段显示名：</label>
                            <input type="text" class="form-input" placeholder="请输入">
                        </div>
                        <div class="filter-item">
                            <label><span class="note-marker">14</span> 主/明细字段：</label>
                            <select class="form-select">
                                <option>全部</option>
                                <option>主字段</option>
                                <option>明细字段</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-actions">
                        <button class="btn btn-primary"><span class="note-marker">15</span> 搜索</button>
                        <button class="btn btn-default"><span class="note-marker">16</span> 重置</button>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="table-actions">
                    <button class="btn btn-icon"><span class="note-marker">17</span> 📝 批量编辑</button>
                    <button class="btn btn-icon"><span class="note-marker">18</span> ➕ 批量添加</button>
                    <button class="btn btn-icon"><span class="note-marker">19</span> 🗑️ 批量删除</button>
                    <button class="btn btn-icon"><span class="note-marker">22</span> 📥 导入字段模板</button>
                </div>

                <!-- 表字段 Tab -->
                <div class="sub-tab-menu">
                    <button class="sub-tab-item active"><span class="note-marker">20</span> 主表</button>
                    <button class="sub-tab-item"><span class="note-marker">21</span> 明细表1 ➕</button>
                </div>

                <!-- 字段列表 -->
                <table class="data-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox"></th>
                            <th>序号</th>
                            <th><span class="note-marker">23</span> 数据库字段名称</th>
                            <th><span class="note-marker">24</span> 字段显示名</th>
                            <th><span class="note-marker">25</span> 数据类型</th>
                            <th><span class="note-marker">26</span> 长度</th>
                            <th><span class="note-marker">27</span> 精度</th>
                            <th><span class="note-marker">28</span> 默认值</th>
                            <th><span class="note-marker">29</span> 是否为空</th>
                            <th><span class="note-marker">30</span> 主键</th>
                            <th><span class="note-marker">31</span> 组件类型</th>
                            <th><span class="note-marker">32</span> 备注</th>
                            <th><span class="note-marker">33</span> 操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>1</td>
                            <td>id</td>
                            <td>主键ID</td>
                            <td>varchar</td>
                            <td>64</td>
                            <td>-</td>
                            <td>-</td>
                            <td>否</td>
                            <td>是</td>
                            <td>单行文本</td>
                            <td>主键</td>
                            <td>
                                <a href="#" class="action-link">编辑</a>
                                <a href="#" class="action-link">删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>2</td>
                            <td>create_time</td>
                            <td>创建时间</td>
                            <td>datetime</td>
                            <td>-</td>
                            <td>-</td>
                            <td>CURRENT_TIMESTAMP</td>
                            <td>否</td>
                            <td>否</td>
                            <td>日期</td>
                            <td>创建时间</td>
                            <td>
                                <a href="#" class="action-link">编辑</a>
                                <a href="#" class="action-link">删除</a>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td>3</td>
                            <td>update_time</td>
                            <td>更新时间</td>
                            <td>datetime</td>
                            <td>-</td>
                            <td>-</td>
                            <td>CURRENT_TIMESTAMP</td>
                            <td>是</td>
                            <td>否</td>
                            <td>日期</td>
                            <td>更新时间</td>
                            <td>
                                <a href="#" class="action-link">编辑</a>
                                <a href="#" class="action-link">删除</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 原型说明 -->
        <div class="prototype-notes">
            <h3>原型说明：</h3>
            
            <div class="note-section">
                <h4>页面名称：新增/编辑模型</h4>
                <p><strong>页面描述：</strong>新增或编辑实体模型的弹框/页面</p>
                <p><strong>功能应用：</strong>在建模管理页面点击"新增"或"编辑"时显示</p>
            </div>

            <div class="note-section">
                <h4>注释说明</h4>
                
                <p><strong><span class="note-marker">1</span> 模型名称：</strong></p>
                <ul>
                    <li>模型名称：必填，最大字符限制为20</li>
                </ul>

                <p><strong><span class="note-marker">2</span> 模型名称（筛选）：</strong></p>
                <ul>
                    <li>模型名称：支持模糊搜索模型名称</li>
                </ul>

                <p><strong><span class="note-marker">3</span> 应用名称：</strong></p>
                <ul>
                    <li>1、此处交互为：模糊搜索下拉显示数据</li>
                    <li>2、枚举值为：统一后台管理所选租户下的应用信息</li>
                    <li>3、未选择租户点击选择框提示：请选择租户</li>
                </ul>

                <p><strong><span class="note-marker">4</span> 模型描述：</strong></p>
                <ul>
                    <li>模型描述：支持模型描述的模糊筛选，最多200字符</li>
                </ul>

                <p><strong><span class="note-marker">5</span> 搜索：</strong></p>
                <ul>
                    <li>点击"搜索"下方列表根据上方查询项联动显示筛选后数据</li>
                </ul>

                <p><strong><span class="note-marker">6</span> 重置：</strong></p>
                <ul>
                    <li>点击"重置"查询项恢复初始状态，下方列表内容根据初始化查询项刷新显示</li>
                </ul>

                <p><strong><span class="note-marker">7</span> 从已有模型复制：</strong></p>
                <ul>
                    <li>1、从已有模型复制：点击后浮层显示选择模型，详见选择模型说明</li>
                    <li>2、未选择租户点击选择框提示：请选择租户</li>
                </ul>

                <p><strong><span class="note-marker">8</span> 保存：</strong></p>
                <ul>
                    <li>点击"保存"需判断：</li>
                    <li>1、必填字段是否已填，若未填则在字段下方提示：</li>
                    <li>（1）若为输入框则提示：请录入{字段名}</li>
                    <li>（2）若为选择框则提示：请选择{字段名}</li>
                    <li>2、保存成功关闭弹框并提示：保存成功，刷新列表页</li>
                </ul>

                <p><strong><span class="note-marker">9</span> 保存并录入详细设置：</strong></p>
                <ul>
                    <li>点击"保存"需判断：</li>
                    <li>1、必填字段是否已填，若未填则在字段下方提示：</li>
                    <li>（1）若为输入框则提示：请录入{字段名}</li>
                    <li>（2）若为选择框则提示：请选择{字段名}</li>
                    <li>2、保存成功则浮层显示编辑模型</li>
                </ul>

                <p><strong><span class="note-marker">10</span> 表单名称显示：</strong></p>
                <ul>
                    <li>列表说明：若无数据则显示：暂无数据</li>
                </ul>

                <p><strong><span class="note-marker">11</span> 基本信息：</strong></p>
                <ul>
                    <li>基本信息：子菜单，默认显示该菜单</li>
                </ul>

                <p><strong><span class="note-marker">12</span> 数据库字段名称：</strong></p>
                <ul>
                    <li>筛选项：支持模糊搜索数据库字段</li>
                </ul>

                <p><strong><span class="note-marker">13</span> 字段显示名：</strong></p>
                <ul>
                    <li>筛选项：支持模糊搜索字段显示名</li>
                </ul>

                <p><strong><span class="note-marker">14</span> 主/明细字段：</strong></p>
                <ul>
                    <li>筛选项：默认显示全部，枚举值为：主字段、明细字段</li>
                </ul>

                <p><strong><span class="note-marker">15</span> 搜索：</strong></p>
                <ul>
                    <li>点击"搜索"下方列表根据上方查询项联动显示筛选后数据</li>
                </ul>

                <p><strong><span class="note-marker">16</span> 重置：</strong></p>
                <ul>
                    <li>点击"重置"查询项恢复初始状态，下方列表内容根据初始化查询项刷新显示</li>
                </ul>

                <p><strong><span class="note-marker">17</span> 批量编辑：</strong></p>
                <ul>
                    <li>点击"编辑"浮层显示批量标记字段</li>
                    <li>1、浮层显示和批量添加字段-有值一致，标题需改为：批量编辑字段，根据表字段内容显示</li>
                    <li>2、交互参照（3.3.2 编辑模型-批量添加字段-有值）</li>
                </ul>

                <p><strong><span class="note-marker">18</span> 批量添加：</strong></p>
                <ul>
                    <li>点击后浮层显示批量添加字段，交互参照（3.3.1 编辑模型-批量添加字段-初始状态）</li>
                </ul>

                <p><strong><span class="note-marker">19</span> 批量删除：</strong></p>
                <ul>
                    <li>批量删除：</li>
                    <li>1、初始状态为置灰不可点击，列表勾选数据后按钮高亮</li>
                    <li>2、列表中该字段已在显示模版被使用，则不可删除，复选框置灰</li>
                    <li>3、点击后弹框提示：删除后建表需手动新建字段，确定删除？ 取消 确定</li>
                    <li>（1）点击"取消"：关闭弹框</li>
                    <li>（2）点击"确定"需判断</li>
                    <li>a. 所选字段是否被使用，若被使用则不可删除，提示（多个字段用","分隔）：{字段名称}已被使用，不可删除</li>
                    <li>b. 若可删除则删除所选字段并关闭弹框，删除成功后刷新并提示：删除成功</li>
                </ul>

                <p><strong><span class="note-marker">20</span> 主表：</strong></p>
                <ul>
                    <li>默认显示主表信息</li>
                </ul>

                <p><strong><span class="note-marker">21</span> 添加明细表：</strong></p>
                <ul>
                    <li>1、支持添加，点击后显示：明细表1</li>
                    <li>2、明细表的命名规则为：明细表+数字递增</li>
                </ul>

                <p><strong><span class="note-marker">22</span> 导入字段模板：</strong></p>
                <ul>
                    <li>支持导入字段模版，点击后显示导入字段模版</li>
                </ul>

                <p><strong><span class="note-marker">23-33</span> 字段列表说明：</strong></p>
                <ul>
                    <li>23. 数据库字段名称：显示数据库中的字段名称</li>
                    <li>24. 字段显示名：显示给用户看的字段名称</li>
                    <li>25. 数据类型：varchar、int、datetime等数据库类型</li>
                    <li>26. 长度：字段长度限制</li>
                    <li>27. 精度：数字类型的精度</li>
                    <li>28. 默认值：字段的默认值</li>
                    <li>29. 是否为空：字段是否允许为空</li>
                    <li>30. 主键：是否为主键字段</li>
                    <li>31. 组件类型：表单中使用的组件类型（单行文本、日期选择器等）</li>
                    <li>32. 备注：字段的备注说明</li>
                    <li>33. 操作：编辑、删除字段</li>
                </ul>

                <p><strong><span class="note-marker">57</span> 租户：</strong></p>
                <ul>
                    <li>租户：必填，多租户场景下选择对应租户</li>
                </ul>

                <p><strong><span class="note-marker">58</span> 是否支持多数据库：</strong></p>
                <ul>
                    <li>是否支持多数据库：默认为否，选择"是"时模型可支持跨数据库操作</li>
                </ul>
            </div>
        </div>
    </div>
</div>

